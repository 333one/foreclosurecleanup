<!DOCTYPE html>
<html lang="en">
<head>
    <title>Register Your Property Preservation Company On The National Vendor List</title>
    <%- include('includes/head-boilerplate.ejs') %>
    <script defer src="js/zxcvbn.js"></script>

    <script defer src="js/register-activate-form-button.js"></script>

    <script defer src="js/password-toggle.js"></script>
    <script defer src="js/connect/register-password-toggle.js"></script>

    <script defer src="js/password-errors-match-meter.js"></script>
    <script defer src="js/connect/register-password-errors-match-meter.js"></script>

    <script>
        let patternNewEmail = <%- patternNewEmail %>;
        let patternNewPassword = <%- patternNewPassword %>;
    </script>
    <script defer src="js/character-blocker.js"></script>
    <script defer src="js/connect/register-character-blocker.js"></script>

    <script defer src="js/register-remove-newemail-error.js"></script>

</head>
<body>

    <%- include('includes/narrow-screen-top-boilerplate.ejs') %>
                
                <h3 class="headlineLarge -centerAlign -bottomMarginMedium">Create Your Account</h3>

                <p class="textSmall -centerAlign -bottomMarginMedium">Already have an account? Sign in <a href="/login">here</a>.</p>

                <form action="/register" method="POST">

                    <div class="input__unit -bottomMarginMedium"> 
                        <label for="newEmail" class="input__label">Email:</label>
                        <input id="newEmail" class="input__field
                            <% if (typeof newEmailError != "undefined") { %>
                                -errorBorder
                            <% } %>
                            " name="newEmail" <%= emailAttributes %> value="<%= userInput.newEmail %>" autofocus>
                        <% if (typeof newEmailError != "undefined") { %>
                        <div id="targetNewEmailError" class="input__error"><%= newEmailError %></div>
                        <% } %> 
                    </div>

                    <div class="input__unit -bottomMarginMedium"> 
                        <label for="newPassword" class="input__label">Password:</label>
                        <div id="targetNewPasswordContainer" class="password__container 
                            <% if (typeof newPasswordError != "undefined") { %>
                                -errorBorder
                            <% } %>
                            ">
                            <input id="newPassword" class="input__passwordField" name="newPassword" <%= passwordAttributes %> value="<%= userInput.newPassword %>" autocomplete="new-password">
                            <div class="password__toggle"><img id="newPasswordEye" src="images/eye-slash-solid.svg" alt="show / hide password"></div>
                        </div>
                        
                        <div id="passwordMeterContainer">
                            <div id="passwordMeterBox1" class="passwordMeterBox"></div>
                            <div id="passwordMeterBox2" class="passwordMeterBox"></div>
                            <div id="passwordMeterBox3" class="passwordMeterBox"></div>
                            <div id="passwordMeterBox4" class="passwordMeterBox"></div>
                            <div id="passwordMeterBox5" class="passwordMeterBox"></div>
                            <div id="passwordMeterLabel"></div>
                        </div>

                        <% if (typeof newPasswordError != "undefined") { %>
                        <div id="targetNewPasswordError" class="input__error"><%= newPasswordError %></div>
                        <% } %> 
                    </div>

                    <div class="input__unit -bottomMarginLarge"> 
                        <label for="confirmationPassword" class="input__label">Confirm Password:</label>
                        <div id="targetConfirmationPasswordContainer" class="password__container 
                            <% if (typeof confirmationPasswordError != "undefined") { %>
                                -errorBorder
                            <% } %>
                            ">
                            <input id="confirmationPassword" class="input__passwordField" name="confirmationPassword" <%= passwordAttributes %> value="<%= userInput.confirmationPassword %>" autocomplete="new-password">
                            <div class="password__toggle"><img id="confirmationPasswordEye" src="images/eye-slash-solid.svg" alt="show / hide password"></div>
                        </div>

                        <div id="passwordMatchLabel"></div>

                        <% if (typeof confirmationPasswordError != "undefined") { %>
                        <div id="targetConfirmationPasswordError" class="input__error"><%= confirmationPasswordError %></div>
                        <% } %> 

                    </div>

                    <div class="-bottomMarginLarge">
                        <div id="targetTermsOfUseContainer" class="checkBox__unit
                            <% if (typeof termsOfUseError != "undefined") { %>
                                    -errorBorder
                            <% } %> 
                            ">
                            <input type="checkbox" id="termsOfUse" name="termsOfUse" value="isChecked"
                                <% if (userInput.termsOfUse === "isChecked") { %> checked<% } %>
                            >
                            <label class="textSmall" for="termsOfUse">By creating an account I agree to the <a href="/privacy-policy-terms-Service">Terms Of Service</a> and acknowledge that I have read the <a href="/privacy-policy-terms-service#privacyPolicy">Privacy Policy</a>.</label>
                        </div>
                        <% if (typeof termsOfUseError != "undefined") { %>
                            <div id="targetTermsOfUseError" class="input__error"><%= termsOfUseError %></div>
                        <% } %> 
                    </div>
                    
                    <div class="-bottomMarginLarge">
                        <button id="narrowScreen__button">Register</button>
                    </div>  

                </form> 

                <p id="narrowScreen_copyright">Â© Foreclosure Cleanup.org - All Rights Reserved</p>

            </div>

        </div>

    </main>

</body>
</html>